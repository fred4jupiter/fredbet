<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3" layout:decorator="_layout">
<head>
	<title th:text="${heading}"></title>
</head>
<body>
	<div layout:fragment="content">
		<div th:replace="fragments/alert :: alert_headline"></div>
		<h1 th:text="${heading}"></h1>
			<div class="row">
				<div class="col-xs-12 col-sm-6 col-md-4" th:each="matchCommand : ${allMatches}">
					<a class="anchor" th:id="${matchCommand.matchId}"></a>
					<div class="panel panel-default">
						<div class="panel-heading">
							<div class="row">
								<div class="col-xs-12">
									<img class="flag" th:if="${matchCommand.isShowCountryIcons()}" th:src="@{${matchCommand.getIconPathTeamOne()}}"/>									
							  		<span class="bold" th:text="${matchCommand.teamNameOne}"></span>
							  		<span> - </span>
							  		<img class="flag" th:if="${matchCommand.isShowCountryIcons()}" th:src="@{${matchCommand.getIconPathTeamTwo()}}"/>
							  		<span class="bold" th:text="${matchCommand.teamNameTwo}"></span>
									<br/>
									<span th:text="${#temporals.format(matchCommand.kickOffDate, 'EEE dd. MMMM yyyy HH:mm')}"></span>
									<span class="label label-warning label-as-badge big-badge right" th:if="${matchCommand.hasMatchFinished()}" th:text="${matchCommand.points}"></span>							  		
									<br/> 
									<span th:text="#{${matchCommand.group.titleMsgKey}}"></span><span>,</span>
									<span th:text="${matchCommand.stadium}"></span>
					  			</div>					  			
				  			</div>				  									
						</div>
						<div class="panel-body">
							<div class="row">
								<div class="col-xs-2 center">
									<div class="short-div goal_padding">
										<a th:if="${!matchCommand.isBettable()}" th:href="@{'/bet/others/match/' + ${matchCommand.matchId}}">
											<span class="fa fa-thumbs-o-up fa-2x" th:title="#{matches.list.betted}"></span>
										</a>
										<span th:if="${matchCommand.isBettable()}" class="fa fa-thumbs-o-up fa-2x" th:title="#{matches.list.betted}"></span>
									</div>
									<div class="short-div goal_padding">
										<span class="fa fa-trophy fa-2x" th:title="#{matches.list.result}"></span>
									</div>							  									  		
					  			</div>					
					  			<div class="col-xs-4 goal-badges center">				
					  				<div class="short-div goal_padding_bigger">
					  					<span class="label label-as-badge big-badge" th:classappend="${T(de.fred4jupiter.fredbet.web.CssHelper).getUserBetGoalsTeamOneCssClasses(matchCommand)}" 
					  					      th:text="${matchCommand.userBetGoalsTeamOne != null ? matchCommand.userBetGoalsTeamOne : '?'}"></span>
								  		<span> : </span>
							  			<span class="label label-as-badge big-badge" th:classappend="${T(de.fred4jupiter.fredbet.web.CssHelper).getUserBetGoalsTeamTwoCssClasses(matchCommand)}" 
							  			      th:text="${matchCommand.userBetGoalsTeamTwo != null ? matchCommand.userBetGoalsTeamTwo : '?'}"></span>
					  				</div>	  				
					  				<div class="short-div goal_padding">
					  					<span class="label label-as-badge big-badge" th:classappend="${T(de.fred4jupiter.fredbet.web.CssHelper).getTeamResultOneCssClasses(matchCommand)}" 
					  					      th:text="${matchCommand.teamResultOne != null ? matchCommand.teamResultOne : '?'}"></span>
								  		<span> : </span>
							  			<span class="label label-as-badge big-badge" th:classappend="${T(de.fred4jupiter.fredbet.web.CssHelper).getTeamResultTwoCssClasses(matchCommand)}" 
							  			      th:text="${matchCommand.teamResultTwo != null ? matchCommand.teamResultTwo : '?'}"></span>
					  				</div>
					  			</div>  			
					  			<div class="col-xs-6 button-bar">
					  				<div class="row center">
								        <a sec:authorize="hasAuthority('PERM_EDIT_MATCH')" href="#" th:href="@{'/matches/' + ${matchCommand.matchId}}" 
								              class="btn btn-primary" role="button" th:title="#{matches.list.editMatch}">
				            				  <span class="glyphicon glyphicon-pencil"></span>
				            			</a>				            			
				            			<a href="#" th:href="@{'/bet/createOrUpdate/' + ${matchCommand.matchId}}" th:classappend="${!matchCommand.isBettable()}? 'disabled'" 
												   class="btn btn-success" role="button" th:title="#{matches.list.betMatch}">
											<span class="fa fa-thumbs-o-up fa-lg"></span>
										</a>
										<a sec:authorize="hasAuthority('PERM_EDIT_MATCH_RESULT')" href="#" th:href="@{'/matches/matchresult/' + ${matchCommand.matchId}}" 
				            			        class="btn btn-info" role="button" th:title="#{matches.list.enterResult}">
				            					<span class="fa fa-trophy fa-lg"></span>
				            			</a>
							        </div>
	       						</div>	       						
       						</div>
					   </div>					   
					</div>
				</div>				
			</div>
			<a sec:authorize="hasAuthority('PERM_CREATE_MATCH')" href="#" th:href="@{/matches/create}" class="btn btn-primary" role="button" th:text="#{matches.list.createMatch}"></a>	
	</div>
</body>
</html>