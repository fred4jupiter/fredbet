<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security" layout:decorate="~{_layout}">
	<head>
		<title th:text="#{user.list.title}"></title>
	</head>
	<body>
		<div layout:fragment="content">
			<h1 th:text="#{user.list.title} + ' (' + ${allUsers.size()} + ')'"></h1>
			<div class="row">
				<div class="col-xs-12 col-sm-6 col-md-4" th:each="userDto : ${allUsers}">
					<div class="panel ">
						<div class="panel-body user-panel-body">
							<div class="row">
								<div class="col-xs-7 user-label">
									<span th:replace="~{fragments/profile_image :: profile_image_big_with_popup(${userDto.userProfileImageKey})}"></span>
									<span th:text="${userDto.username}"></span>
					  			</div>
					  			<div class="col-xs-5">
					  				<div class="row custom-button-group">
					  					<a sec:authorize="hasAuthority('PERM_EDIT_USER')" th:href="@{'/user/' + ${userDto.userId}}" class="btn btn-primary" role="button">
					  						<span class="fas fa-edit"></span>
				  						</a>
									</div>
					  			</div>
	      					</div>
					   </div>
					</div>
				</div>
			</div>
			<a href="#" th:href="@{/user/create}" class="btn btn-primary" role="button" th:text="#{user.list.createUser}"></a>
		</div>
	</body>
</html>
